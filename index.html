<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOS programming tools</title>
</head>
<body>
<center>
<h1>DOS programming tools in web-browser</h1>
<h3><a href="./tp55.html">Turbo Pascal 5.5</a></h3>
<h3><a href="./qb11.html">Quick Basic 1.1</a></h3>
<h3><a href="./ml3.html">Matlab 3.05</a></h3>

<p><a href="https://github.com/rodiongork/dosprog">Project page - you can study and clone files here</a></p>

<hr/>

<p>To create pre-loaded program, enter code (or https url of plain file) below, select
the language and click the button:</p>

<textarea id="input" cols="80" rows="10">
</textarea>

<br/><br/>

<select id="langsel">
  <option value="tp55">Turbo Pascal 5.5</option>
  <option value="qb11">Quick Basic 1.1</option>
  <option value="ml3">Matlab 3.05</option>
</select>

<input type="button" value="This Button" onclick="preparecode()"/>
<br/>
<input type="checkbox" id="autorun">Autorun</input>


<p><a target="_blank" href="#" id="output"></a></p>

<script>
function preparecode() {
  let root = location.href.replace(/index\.html.*/, '');
  let lang = document.getElementById('langsel').value;
  let code = document.getElementById('input').value;
  let out = btoa(code);
  let param = document.getElementById('autorun').checked ? 'P' : 'p';
  out = root + lang + '.html?' + param + '=' + out;
  let outElem = document.getElementById('output');
  outElem.href = outElem.innerHTML = out;
}
</script>

</body>
</html>
